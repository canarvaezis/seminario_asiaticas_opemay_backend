spring.application.name=opemay

# Firebase Configuration
firebase.enabled=true
firebase.key.path=${FIREBASE_KEY_PATH:}

# Configuración de Circuit Breaker para productService
resilience4j.circuitbreaker.instances.productService.register-health-indicator=true
resilience4j.circuitbreaker.instances.productService.sliding-window-size=10
resilience4j.circuitbreaker.instances.productService.minimum-number-of-calls=5
resilience4j.circuitbreaker.instances.productService.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.productService.wait-duration-in-open-state=10s
resilience4j.circuitbreaker.instances.productService.permitted-number-of-calls-in-half-open-state=3
resilience4j.circuitbreaker.instances.productService.automatic-transition-from-open-to-half-open-enabled=true

# Configuración de Actuator para monitoreo
management.endpoints.web.exposure.include=health,info,metrics,circuitbreakers
management.endpoint.health.show-details=always

# Base de datos H2 para Liquibase (opcional, para auditoría)
spring.datasource.url=jdbc:h2:mem:auditdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=true

# Liquibase (deshabilitado por defecto)
spring.liquibase.enabled=false
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml

# JWT Configuration
app.jwt.secret=my-secret-key-must-be-at-least-256-bits-long-for-HS256-algorithm
app.jwt.expiration=86400000

# Logging
logging.level.io.github.resilience4j=DEBUG
logging.level.co.edu.uniajc.estudiante.opemay=INFO
