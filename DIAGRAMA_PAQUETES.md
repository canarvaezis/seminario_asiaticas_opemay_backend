# Diagrama de Paquetes - Aplicaciรณn Opemay

## Estructura General del Proyecto

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                      co.edu.uniajc.estudiante.opemay            โ
โ                         (Paquete Raรญz)                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                OpemayApplication                        โ    โ
โ  โ            @SpringBootApplication                      โ    โ
โ  โ         [Patrรณn: Singleton - Spring Boot]              โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                    config                               โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ            FirebaseInitializer                 โ    โ    โ
โ  โ  โ               @Service                         โ    โ    โ
โ  โ  โ    [Patrรณn: Factory + Singleton]               โ    โ    โ
โ  โ  โ    [Patrรณn: Configuration Object]              โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                   security                              โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ            SecurityConfig                      โ    โ    โ
โ  โ  โ            @Configuration                      โ    โ    โ
โ  โ  โ    [Patrรณn: Strategy + Chain of Responsibility]โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ           FirebaseTokenFilter                  โ    โ    โ
โ  โ  โ             @Component                         โ    โ    โ
โ  โ  โ    [Patrรณn: Filter/Interceptor]                โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ           FirebaseAuthService                  โ    โ    โ
โ  โ  โ              @Service                          โ    โ    โ
โ  โ  โ    [Patrรณn: Facade + Service Layer]           โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                    model                                โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ                Product                         โ    โ    โ
โ  โ  โ                @Data                           โ    โ    โ
โ  โ  โ    [Patrรณn: Data Transfer Object (DTO)]        โ    โ    โ
โ  โ  โ    [Patrรณn: JavaBean/POJO]                     โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ                 User                           โ    โ    โ
โ  โ  โ                @Data                           โ    โ    โ
โ  โ  โ    [Patrรณn: Data Transfer Object (DTO)]        โ    โ    โ
โ  โ  โ    [Patrรณn: Value Object]                      โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                 restController                          โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ            ProductController                   โ    โ    โ
โ  โ  โ            @RestController                     โ    โ    โ
โ  โ  โ    [Patrรณn: MVC - Controller]                  โ    โ    โ
โ  โ  โ    [Patrรณn: RESTful API]                       โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ             AuthController                     โ    โ    โ
โ  โ  โ            @RestController                     โ    โ    โ
โ  โ  โ    [Patrรณn: MVC - Controller]                  โ    โ    โ
โ  โ  โ    [Patrรณn: Authentication Gateway]            โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                   Service                               โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ            ProductService                      โ    โ    โ
โ  โ  โ               @Service                         โ    โ    โ
โ  โ  โ    [Patrรณn: Service Layer]                     โ    โ    โ
โ  โ  โ    [Patrรณn: Business Logic Layer]              โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ             UserService                        โ    โ    โ
โ  โ  โ               @Service                         โ    โ    โ
โ  โ  โ    [Patrรณn: Service Layer]                     โ    โ    โ
โ  โ  โ    [Patrรณn: Domain Service]                    โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                 IRespository                            โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ           ProductRepository                    โ    โ    โ
โ  โ  โ             @Repository                        โ    โ    โ
โ  โ  โ    [Patrรณn: Repository]                        โ    โ    โ
โ  โ  โ    [Patrรณn: Data Access Object (DAO)]          โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โ  โ            UserRepository                      โ    โ    โ
โ  โ  โ             @Repository                        โ    โ    โ
โ  โ  โ    [Patrรณn: Repository]                        โ    โ    โ
โ  โ  โ    [Patrรณn: Data Access Object (DAO)]          โ    โ    โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                 db.migration                            โ    โ
โ  โ                 (Vacรญo - NoSQL)                         โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Patrones de Diseรฑo Utilizados

### ๐๏ธ **Patrones Arquitectรณnicos**

1. **MVC (Model-View-Controller)**
   - **Controller**: ProductController, AuthController
   - **Model**: Product, User (entidades)
   - **View**: Frontend (React/Angular) - no incluido en backend

2. **Layered Architecture (Arquitectura en Capas)**
   - **Presentation Layer**: restController
   - **Business Layer**: Service
   - **Data Access Layer**: IRespository
   - **Infrastructure Layer**: config

3. **RESTful API**
   - Endpoints REST estรกndar
   - HTTP verbs (GET, POST, PUT, DELETE)
   - Resource-based URLs

### ๐ง **Patrones de Creaciรณn**

4. **Singleton**
   - Spring Boot Application Context
   - Firebase beans (@Bean)
   - Service beans (@Service)

5. **Factory Pattern**
   - FirebaseInitializer crea instancias de Firestore
   - Spring IoC Container como Factory

6. **Dependency Injection**
   - Constructor injection en todos los componentes
   - @Autowired implรญcito con constructores

### ๐ **Patrones de Comportamiento**

7. **Strategy Pattern**
   - SecurityConfig para diferentes estrategias de autenticaciรณn
   - Diferentes implementaciones de autenticaciรณn

8. **Chain of Responsibility**
   - Spring Security Filter Chain
   - FirebaseTokenFilter en la cadena

9. **Template Method**
   - Spring Boot auto-configuration
   - JPA Repository methods

10. **Observer Pattern**
    - Spring Events y Listeners
    - Application lifecycle events

### ๐๏ธ **Patrones Empresariales**

11. **Repository Pattern**
    - ProductRepository, UserRepository
    - Abstracciรณn del acceso a datos

12. **Service Layer Pattern**
    - ProductService, UserService
    - Encapsulaciรณn de lรณgica de negocio

13. **Data Transfer Object (DTO)**
    - Product, User como DTOs
    - Transferencia de datos entre capas

14. **Facade Pattern**
    - FirebaseAuthService como facade para Firebase Auth
    - Controllers como facade para services

### ๐ก๏ธ **Patrones de Seguridad**

15. **Filter/Interceptor Pattern**
    - FirebaseTokenFilter
    - Intercepta requests para validar tokens

16. **Authentication Gateway**
    - AuthController centraliza autenticaciรณn
    - Punto รบnico de entrada para auth

17. **Role-Based Access Control (RBAC)**
    - @PreAuthorize con roles
    - Autorizaciรณn basada en roles

### ๐๏ธ **Patrones de Datos**

18. **Data Access Object (DAO)**
    - Repository classes
    - Abstracciรณn del acceso a Firestore

19. **Value Object**
    - User como value object inmutable
    - Product attributes

20. **Configuration Object**
    - FirebaseInitializer
    - Centraliza configuraciรณn

### ๐ฆ **Patrones de Integraciรณn**

21. **Adapter Pattern**
    - Firebase SDK adapters
    - Spring Security adapters

22. **Proxy Pattern**
    - Spring AOP proxies
    - Transaction management

### ๐ **Beneficios de los Patrones Utilizados**

- **Mantenibilidad**: Separaciรณn clara de responsabilidades
- **Escalabilidad**: Arquitectura modular y desacoplada
- **Testabilidad**: Dependency injection facilita testing
- **Reutilizaciรณn**: Componentes reutilizables
- **Flexibilidad**: Fรกcil intercambio de implementaciones
- **Seguridad**: Patrones de seguridad robustos
